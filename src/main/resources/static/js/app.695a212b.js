(function(t){function e(e){for(var a,r,i=e[0],c=e[1],u=e[2],l=0,d=[];l<i.length;l++)r=i[l],o[r]&&d.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},o={app:0},s=[];function i(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-0507ff24":"f9ff10b8","chunk-1f98254f":"cd85c20a","chunk-2d0b8a45":"09d01e2c","chunk-2d0c8670":"eda25f09","chunk-2d0e6295":"2c3458d5","chunk-2d0f0813":"0b48c9f6","chunk-2d22c8d2":"681e3e6c","chunk-36f46dae":"b08807be","chunk-41ee9fc5":"08c8f3ce","chunk-44542e12":"455e446d","chunk-4c1f0a16":"d2e8471e","chunk-5d3e20c2":"df6d3262","chunk-64da614a":"c17056df","chunk-6526d42e":"ffedbec6","chunk-6bdfd40c":"1aead008","chunk-749efaae":"df2c1cef","chunk-7cfe4c10":"e92cf376","chunk-9ab29646":"c6914824","chunk-20716fea":"5aab94ac","chunk-6f160fa4":"62b38f81","chunk-a21f5f96":"2e76f77a","chunk-b854e180":"b40f03df","chunk-c3c4bc80":"ac138afc"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-0507ff24":1,"chunk-1f98254f":1,"chunk-36f46dae":1,"chunk-41ee9fc5":1,"chunk-44542e12":1,"chunk-4c1f0a16":1,"chunk-5d3e20c2":1,"chunk-64da614a":1,"chunk-6526d42e":1,"chunk-6bdfd40c":1,"chunk-749efaae":1,"chunk-7cfe4c10":1,"chunk-9ab29646":1,"chunk-20716fea":1,"chunk-6f160fa4":1,"chunk-a21f5f96":1,"chunk-b854e180":1,"chunk-c3c4bc80":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-0507ff24":"bc3f21a1","chunk-1f98254f":"bde9aa31","chunk-2d0b8a45":"31d6cfe0","chunk-2d0c8670":"31d6cfe0","chunk-2d0e6295":"31d6cfe0","chunk-2d0f0813":"31d6cfe0","chunk-2d22c8d2":"31d6cfe0","chunk-36f46dae":"863f3ae3","chunk-41ee9fc5":"f75f4978","chunk-44542e12":"015cc062","chunk-4c1f0a16":"4442e0f8","chunk-5d3e20c2":"015cc062","chunk-64da614a":"015cc062","chunk-6526d42e":"853dad5e","chunk-6bdfd40c":"671c1f75","chunk-749efaae":"015cc062","chunk-7cfe4c10":"578c1405","chunk-9ab29646":"af6e55e9","chunk-20716fea":"71acfc01","chunk-6f160fa4":"5dcb3bcf","chunk-a21f5f96":"e50f849c","chunk-b854e180":"a9259fa7","chunk-c3c4bc80":"a3452f9b"}[t]+".css",o=c.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===a||l===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.request=a,delete r[t],f.parentNode.removeChild(f),n(s)},f.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(f)}).then(function(){r[t]=0}));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise(function(e,n){a=o[t]=[e,n]});e.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(t),u=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+a+": "+r+")");s.type=a,s.request=r,n[1](s)}o[t]=void 0}};var d=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"093f":function(t,e,n){},"12ed":function(t,e,n){t.exports=n.p+"img/message.979439b5.png"},"1bf4":function(t,e,n){},"24bc":function(t,e,n){t.exports=n.p+"img/security.3c60cee2.png"},"3c92":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("96cf");var a=n("3b8d"),r=(n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar",{directives:[{name:"show",rawName:"v-show",value:!t.hideNavBar,expression:"!hideNavBar"}]}),n("div",{staticStyle:{position:"absolute",top:"60px",right:"0","z-index":"9999"}},[n("div",{staticClass:"toast fade",attrs:{id:"incident-toast",role:"alert","data-autohide":"false","aria-live":"assertive","aria-atomic":"true"}},[n("div",{staticClass:"toast-header"},[n("strong",{staticClass:"mr-auto"},[t._v("紧急状况")]),n("small",{staticClass:"text-muted"},[t._v(t._s(t.alertTime))]),n("button",{staticClass:"ml-2 mb-1 close",attrs:{type:"button","data-dismiss":"toast","aria-label":"Close"},on:{click:t.closeToast}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),n("div",{staticClass:"toast-body"},[n("div",{on:{click:t.closeToast}},[n("router-link",{attrs:{to:{name:"monitor",params:{toPath:"monitor"}}},on:{click:t.closeToast}},[t._v("发生紧急状况，请前往处理")])],1)])])]),n("router-view")],1)},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark rich-black-background"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[a("img",{staticStyle:{width:"30px"},attrs:{src:n("cf05"),alt:"Logo"}})]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[t._v("总览 ")])],1),a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n            所有功能\n          ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"senior",params:{toPath:"senior"}}}},[t._v("长者管理 ")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"security",params:{toPath:"security"}}}},[t._v("安全监控 ")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"message",params:{toPath:"message"}}}},[t._v("消息管理 ")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"staff",params:{toPath:"staff"}}}},[t._v("员工管理 ")])],1)])]),a("span",{staticClass:"navbar-text"},[t._v("智慧助手 v0.1.3")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.online,expression:"!online"}],staticClass:"btn-group",attrs:{id:"user-center"}},[a("router-link",{staticClass:"navbar-text",attrs:{to:{name:"login"},tag:"span"}},[t._v("登陆管理系统")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.online,expression:"online"}],staticClass:"btn-group",attrs:{id:"user-center"}},[a("span",{staticClass:"navbar-text dropdown-toggle",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n          "+t._s(t.username)+"\n        ")]),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[a("a",{staticClass:"dropdown-item",on:{click:t.logout}},[t._v("登出账户")])])])])],1)])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[n("span",{staticClass:"navbar-toggler-icon"})])}],u={name:"Navbar",data:function(){return{}},computed:{username:function(){return this.$store.getters.getNavname},online:function(){return this.$store.getters.getOnline}},methods:{logout:function(){var t=this;this.axios.get(this.getAPI()+"/logout").then(function(e){100===e.data?(t.$store.commit("setDefaultUser"),console.log("Logout Successful"),t.$router.push({name:"home"})):t.$store.commit("setDefaultUser")},function(t){console.log("get failed logout failed"),console.log(t.data)})}},created:function(){},mounted:function(){}},l=u,d=(n("b4a3"),n("2877")),f=Object(d["a"])(l,i,c,!1,null,"3f3222ae",null),h=f.exports,m=n("1157"),p=n.n(m),g={name:"App",components:{Navbar:h},data:function(){return{timer:0,incidentId:-1,alertTime:this.$moment().format("HH:mm"),hideNavBar:!1}},computed:{isOnline:function(){return this.$store.getters.getOnline}},watch:{isOnline:function(){var t=this;this.$store.getters.getOnline&&(this.timer=setInterval(function(){t.getIncidentAlert()},5e3))},"$route.name":function(t){var e=["notice1","notice2","notice3"];this.hideNavBar=-1!==e.indexOf(t)}},methods:{stateSet:function(){var t=this;this.axios.get(this.getAPI()+"/session").then(function(e){300===e.data?(console.log("App online"),t.$store.commit("setUser")):t.$store.commit("setDefaultUser")},function(t){console.log("get online status failed"),console.log(t.data)})},switchOnToast:function(){this.alertTime=this.$moment().format("HH:mm"),p()("#incident-toast").toast("show")},closeToast:function(){p()("#incident-toast").toast("hide")},getIncidentAlert:function(){var t=this,e={incidentId:this.incidentId};this.axios.post(this.getAPI()+"/security/alert",e).then(function(e){var n=e.data.length;n>0&&(t.switchOnToast(),t.incidentId=e.data[n-1].incidentId)},function(t){console.log("get alert failed"),console.log(t)})}},created:function(){this.stateSet()},destroyed:function(){clearInterval(this.timer)}},b=g,v=Object(d["a"])(b,o,s,!1,null,"070d2f02",null),k=v.exports,C=n("8c4f"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"loginFrame"}},[t._m(0),n("div",{attrs:{id:"login"}},[t.show?n("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[n("b-form-group",{attrs:{id:"userId",label:"ID:","label-for":"userIdInput"}},[n("b-form-input",{attrs:{id:"userIdInput",type:"text",required:"",placeholder:"输入ID"},model:{value:t.form.userId,callback:function(e){t.$set(t.form,"userId",e)},expression:"form.userId"}})],1),n("b-form-group",{attrs:{id:"password",label:"密码:","label-for":"passwordInput"}},[n("b-form-input",{attrs:{id:"passwordInput",type:"password",required:"",placeholder:"输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),n("div",{attrs:{id:"loginStatus"}},[n("span",[t._v(t._s(t.loginStatus))])]),n("b-button",{staticClass:"sub-btn",class:{disabled:t.hasClicked},attrs:{type:"submit",variant:"primary",size:"md"}},[t._v("登陆\n        ")]),n("b-button",{staticClass:"sub-btn",class:{disabled:t.hasClicked},attrs:{type:"reset",variant:"danger",size:"md"}},[t._v("重置\n        ")])],1):t._e()],1)])])},y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"title"}},[n("h3",[t._v("用户登录")])])}],x=n("f499"),_=n.n(x),A=(n("6b54"),n("c0d6")),I={data:function(){return{form:{userId:"",password:""},loginStatus:"",show:!0,hasClicked:!1}},methods:{onSubmit:function(t){var e=this;if(t.preventDefault(),!this.hasClicked){var n=/[0-9]+/;n.test(this.form.userId)?(this.hasClicked=!0,this.loginStatus="登陆中...",this.login().then(function(t){100===t?(e.loginStatus="登陆成功",e.fetchData(),void 0!==e.$route.params.toPath?e.$router.push({name:e.$route.params.toPath}):e.$router.push({name:"home"})):500===t?(e.loginStatus="账户尚未激活",e.hasClicked=!1,e.$router.push({name:"activate"})):210===t?(e.loginStatus="请求超时，请重试",e.hasClicked=!1):-999===t?(e.loginStatus="服务器开小差了，请重试",e.hasClicked=!1):(e.loginStatus="ID或密码不正确",e.hasClicked=!1)})):this.loginStatus="ID必须为数字"}},onReset:function(t){var e=this;t.preventDefault(),this.hasClicked||(this.form.userId="",this.form.password="",this.loginStatus="",this.show=!1,this.$nextTick(function(){e.show=!0}))},login:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={userId:this.form.userId,password:this.form.password,platform:"CONSOLE"},n=200,t.next=4,this.axios.post(this.getAPI()+"/login",e,{timeout:15e3}).then(function(t){n=t.data},function(t){"ECONNABORTED"===t.code&&-1!==t.toString().indexOf("timeout")?n=210:(console.log("post failed"),console.log(t))});case 4:return t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fetchData:function(){this.axios.get(this.getAPI()+"/user").then(function(t){localStorage.setItem("user",_()(t.data)),A["a"].commit("setUser")},function(t){console.log("post failed"),console.log(t)})}},created:function(){var t=this;this.checkSession().then(function(e){e&&t.$router.push({name:"home"})})}},S=I,P=(n("a0e3"),Object(d["a"])(S,w,y,!1,null,"2ce380de",null)),$=P.exports,O=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("This is an error page!")])])}],T={name:"Error"},E=T,N=Object(d["a"])(E,O,q,!1,null,"7509ad93",null),j=N.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("欢迎使用智慧助手")]),a("div",{attrs:{id:"card-container"}},[a("div",{staticClass:"card-deck"},[a("router-link",{staticClass:"card border-primary",attrs:{to:{name:"senior",params:{toPath:"senior"}},tag:"div"}},[a("div",{staticClass:"card-img-container"},[a("img",{staticClass:"card-img-top",staticStyle:{"background-color":"#007bff",padding:"10px"},attrs:{src:n("8af4"),alt:"senior"}})]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v("长者管理")]),a("p",{staticClass:"card-text"},[t._v("在住长者的信息管理")])])]),a("router-link",{staticClass:"card border-danger",attrs:{to:{name:"security",params:{toPath:"security"}},tag:"div"}},[a("div",{staticClass:"card-img-container"},[a("img",{staticClass:"card-img-top",staticStyle:{"background-color":"#dc3545",padding:"10px"},attrs:{src:n("24bc"),alt:"security"}})]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v("安全监控")]),a("p",{staticClass:"card-text"},[t._v("实时监测长者安全状态")])])]),a("router-link",{staticClass:"card border-info",attrs:{to:{name:"message",params:{toPath:"message"}},tag:"div"}},[a("div",{staticClass:"card-img-container"},[a("img",{staticClass:"card-img-top",staticStyle:{"background-color":"#17a2b8",padding:"25px"},attrs:{src:n("12ed"),alt:"message"}})]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v("消息管理")]),a("p",{staticClass:"card-text"},[t._v("发布公告，查看住户意见反馈")])])]),a("router-link",{staticClass:"card border-warning",attrs:{to:{name:"staff",params:{toPath:"staff"}},tag:"div"}},[a("div",{staticClass:"card-img-container"},[a("img",{staticClass:"card-img-top",staticStyle:{"background-color":"#ffc107",padding:"20px"},attrs:{src:n("a61b"),alt:"staff"}})]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v("员工管理")]),a("p",{staticClass:"card-text"},[t._v("提供人员调动安排等基本管理")])])])],1)])])},M=[],R={name:"Home"},B=R,U=(n("c3e5"),Object(d["a"])(B,D,M,!1,null,"12e43650",null)),L=U.exports;r["default"].use(C["a"]);var H=new C["a"]({base:"",routes:[{path:"/",name:"home",meta:{requireAuth:!1},component:L},{path:"/login",name:"login",meta:{requireAuth:!1},component:$},{path:"/activate",name:"activate",meta:{requireAuth:!1},component:function(){return n.e("chunk-6526d42e").then(n.bind(null,"537c"))}},{path:"/senior",component:function(){return n.e("chunk-749efaae").then(n.bind(null,"fca5"))},meta:{requireAuth:!0},children:[{path:"",name:"senior",component:function(){return n.e("chunk-6bdfd40c").then(n.bind(null,"0a5d"))},meta:{requireAuth:!0}},{path:"base-information",name:"baseInfo",component:function(){return Promise.all([n.e("chunk-9ab29646"),n.e("chunk-a21f5f96")]).then(n.bind(null,"8748"))},meta:{requireAuth:!0}},{path:"health-report",name:"healthReport",component:function(){return n.e("chunk-1f98254f").then(n.bind(null,"0dc3"))},meta:{requireAuth:!0}},{path:"bill",name:"bill",component:function(){return Promise.all([n.e("chunk-9ab29646"),n.e("chunk-20716fea")]).then(n.bind(null,"4e0f"))},meta:{requireAuth:!0}}]},{path:"/security",component:function(){return n.e("chunk-5d3e20c2").then(n.bind(null,"967a"))},meta:{requireAuth:!0},children:[{path:"",name:"security",component:function(){return n.e("chunk-0507ff24").then(n.bind(null,"f53d"))},meta:{requireAuth:!0}},{path:"security-setting",name:"secSetting",component:function(){return n.e("chunk-36f46dae").then(n.bind(null,"52f9"))},meta:{requireAuth:!0}},{path:"monitor",name:"monitor",component:function(){return n.e("chunk-c3c4bc80").then(n.bind(null,"a89b"))},meta:{requireAuth:!0}}]},{path:"/message",component:function(){return n.e("chunk-64da614a").then(n.bind(null,"bfcb"))},meta:{requireAuth:!0},children:[{path:"",name:"message",component:function(){return n.e("chunk-4c1f0a16").then(n.bind(null,"744c"))},meta:{requireAuth:!0}},{path:"notice",name:"notice",component:function(){return n.e("chunk-b854e180").then(n.bind(null,"db8c"))},meta:{requireAuth:!0}},{path:"feedback",name:"feedback",component:function(){return n.e("chunk-41ee9fc5").then(n.bind(null,"0340"))},meta:{requireAuth:!0}}]},{path:"/staff",component:function(){return n.e("chunk-44542e12").then(n.bind(null,"cfa8"))},meta:{requireAuth:!0},children:[{path:"",name:"staff",component:function(){return n.e("chunk-7cfe4c10").then(n.bind(null,"b783"))},meta:{requireAuth:!0}},{path:"staff-information",name:"staffInfo",component:function(){return Promise.all([n.e("chunk-9ab29646"),n.e("chunk-6f160fa4")]).then(n.bind(null,"24b3"))},meta:{requireAuth:!0}},{path:"assignment",name:"assignment",component:function(){return n.e("chunk-2d0b8a45").then(n.bind(null,"300b"))},meta:{requireAuth:!0}}]},{path:"/notices",meta:{requireAuth:!1},component:function(){return n.e("chunk-2d0e6295").then(n.bind(null,"9822"))},children:[{path:"1",name:"notice1",meta:{requireAuth:!1},component:function(){return n.e("chunk-2d0f0813").then(n.bind(null,"9d3e"))}},{path:"2",name:"notice2",meta:{requireAuth:!1},component:function(){return n.e("chunk-2d0c8670").then(n.bind(null,"5571"))}},{path:"3",name:"notice3",meta:{requireAuth:!1},component:function(){return n.e("chunk-2d22c8d2").then(n.bind(null,"f45c"))}}]},{path:"*",name:"error",meta:{requireAuth:!1},component:j}]}),z={install:function(t){t.prototype.checkSession=Object(a["a"])(regeneratorRuntime.mark(function e(){var n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=!1,e.next=3,this.axios.get(t.prototype.getAPI()+"/session").then(function(t){400===t.data&&a.$store.commit("setDefaultUser"),300===t.data&&(a.$store.commit("setUser"),n=!0)},function(t){console.log("get failed"),console.log(t.data),a.$router.push({name:"error"})});case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)})),t.prototype.getAPI=function(){var t="";return t},t.prototype.getMapKey=function(){var t="131de27d6464c67c35e5d7a6f00d27a2";return t}}},J=n("9f7b"),F=n("8812"),G=n.n(F),K=n("bc3a"),V=n.n(K),Q=n("a7fe"),W=n.n(Q),X=n("2ead"),Y=n.n(X),Z=n("8f9b"),tt=n.n(Z),et=n("dfa9"),nt=n.n(et),at=n("2819"),rt=n.n(at);n("f9e3"),n("3e48"),n("2dd8");function ot(){return st.apply(this,arguments)}function st(){return st=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=!1,t.next=3,V.a.get(r["default"].prototype.getAPI()+"/session").then(function(t){300===t.data&&(e=!0)},function(t){console.log("get failed"),console.log(t.data)});case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)})),st.apply(this,arguments)}n("7b23"),n("399e"),n("7f10"),n("ce5c"),n("50a2"),window.$=p.a,r["default"].use(W.a,V.a),r["default"].use(J["a"]),r["default"].use(z),r["default"].use(G.a),r["default"].use(Y.a),r["default"].use(tt.a),r["default"].use(nt.a),r["default"].use(rt.a),r["default"].config.productionTip=!1,r["default"].config.devtools=!0,V.a.defaults.withCredentials=!0,V.a.defaults.timeout=15e3,new r["default"]({router:H,store:A["a"],render:function(t){return t(k)}}).$mount("#app"),tt.a.initAMapApiLoader({key:"59b3f2490ff8de81a4f04dac4b366d21",plugin:["AMap.Autocomplete","AMap.PlaceSearch","AMap.Scale","AMap.OverView","AMap.ToolBar","AMap.MapType","AMap.PolyEditor","AMap.CircleEditor","AMap.Geolocation"],v:"1.4.4"}),H.beforeEach(function(t,e,n){if(t.meta.requireAuth)try{ot().then(function(e){e?n():n({name:"login",params:{toPath:t.params.toPath}})})}catch(a){console.error(a),n({name:"error"})}else n()})},8812:function(t,e,n){},"8af4":function(t,e,n){t.exports=n.p+"img/senior.cdedc657.png"},a0e3:function(t,e,n){"use strict";var a=n("3c92"),r=n.n(a);r.a},a61b:function(t,e,n){t.exports=n.p+"img/staff.13ad71b0.png"},b4a3:function(t,e,n){"use strict";var a=n("093f"),r=n.n(a);r.a},c0d6:function(t,e,n){"use strict";n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=n("2f62");a["default"].use(r["a"]),e["a"]=new r["a"].Store({state:{user:{navname:"noname",adminId:-1,online:!1}},mutations:{setUser:function(){var t=JSON.parse(localStorage.getItem("user"));this.state.user.navname=t.username,this.state.user.adminId=t.userId,this.state.user.online=!0},setDefaultUser:function(){localStorage.clear(),this.state.user.navname="noname",this.state.user.adminId=-1,this.state.user.online=!1}},getters:{getNavname:function(t){return t.user.navname},getOnline:function(t){return t.user.online},getAdminId:function(t){return t.user.adminId}},actions:{}})},c3e5:function(t,e,n){"use strict";var a=n("1bf4"),r=n.n(a);r.a},cf05:function(t,e,n){t.exports=n.p+"img/logo.ccf6d467.png"}});
//# sourceMappingURL=app.695a212b.js.map