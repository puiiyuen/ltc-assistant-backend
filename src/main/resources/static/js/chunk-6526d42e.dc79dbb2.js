(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6526d42e"],{"537c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"activateFrame"}},[t._m(0),a("div",{attrs:{id:"activate"}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{id:"userId",label:"ID:","label-for":"userIdInput"}},[a("b-form-input",{attrs:{id:"userIdInput",type:"text",required:"",placeholder:"输入ID"},model:{value:t.form.userId,callback:function(e){t.$set(t.form,"userId",e)},expression:"form.userId"}})],1),a("b-form-group",{attrs:{id:"activateCode",label:"激活码:","label-for":"activateCodeInput"}},[a("b-form-input",{attrs:{id:"activateCodeInput",type:"text",required:"",placeholder:"输入激活码"},model:{value:t.form.activateCode,callback:function(e){t.$set(t.form,"activateCode",e)},expression:"form.activateCode"}})],1),a("b-form-group",{attrs:{id:"password",label:"请输入密码:","label-for":"passwordInput"}},[a("b-form-input",{attrs:{id:"passwordInput",type:"password",required:"",placeholder:"输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("b-form-group",{attrs:{id:"password2",label:"请再次输入密码:","label-for":"password2Input"}},[a("b-form-input",{attrs:{id:"password2Input",type:"password",required:"",placeholder:"输入密码"},model:{value:t.form.password2,callback:function(e){t.$set(t.form,"password2",e)},expression:"form.password2"}})],1),a("div",{attrs:{id:"activateStatus"}},[a("span",[t._v(t._s(t.activateStatus))])]),a("b-button",{staticClass:"sub-btn",class:{disabled:t.hasClicked},attrs:{type:"submit",variant:"primary",size:"md"}},[t._v("激活\n      ")]),a("b-button",{staticClass:"sub-btn",class:{disabled:t.hasClicked},attrs:{type:"reset",variant:"danger",size:"md"}},[t._v("重置\n      ")])],1):t._e()],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"title"}},[a("h3",[t._v("账户激活")])])}],i=(a("6b54"),a("96cf"),a("3b8d")),o={name:"Activate",data:function(){return{form:{userId:"",password:"",password2:"",activateCode:""},activateStatus:"",show:!0,hasClicked:!1}},methods:{onSubmit:function(t){var e=this;if(t.preventDefault(),!this.hasClicked){var a=/[0-9]+/;a.test(this.form.userId)?this.form.password===this.form.password2?(this.hasClicked=!0,this.activateStatus="激活中...",this.activate().then(function(t){100===t?(e.activateStatus="激活成功",e.$router.push({name:"login"})):210===t?(e.activateStatus="请求超时，请重试",e.hasClicked=!1):-999===t?(e.activateStatus="服务器开小差了，请重试",e.hasClicked=!1):(e.activateStatus="ID或激活码不正确",e.hasClicked=!1)})):this.activateStatus="两次密码输入不一致":this.activateStatus="ID必须为数字"}},onReset:function(t){var e=this;t.preventDefault(),this.hasClicked||(this.form.userId="",this.form.password="",this.activateStatus="",this.show=!1,this.$nextTick(function(){e.show=!0}))},activate:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={userId:this.form.userId,password:this.form.password,activateCode:this.form.activateCode},a=200,t.next=4,this.axios.post(this.getAPI()+"/activate",e,{timeout:15e3}).then(function(t){console.log(t.data),a=t.data},function(t){"ECONNABORTED"===t.code&&-1!==t.toString().indexOf("timeout")?a=210:(console.log("post failed"),console.log(t))});case 4:return t.abrupt("return",a);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},n=o,d=(a("5daf"),a("2877")),u=Object(d["a"])(n,s,r,!1,null,"6d3d30ea",null);e["default"]=u.exports},"5daf":function(t,e,a){"use strict";var s=a("f52a"),r=a.n(s);r.a},f52a:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6526d42e.dc79dbb2.js.map