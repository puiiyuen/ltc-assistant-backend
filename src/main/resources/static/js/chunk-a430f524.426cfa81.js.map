{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/es6.parse-float.js","webpack:///./node_modules/core-js/library/modules/_parse-float.js","webpack:///./src/components/LoginModal.vue?de66","webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./src/components/LoginModal.vue?01f2","webpack:///src/components/LoginModal.vue","webpack:///./src/components/LoginModal.vue?61b6","webpack:///./src/components/LoginModal.vue","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/parse-float.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./node_modules/core-js/library/fn/parse-float.js","webpack:///./src/components/Panel/panel-security.vue?9a28","webpack:///./node_modules/core-js/library/modules/_string-trim.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./node_modules/core-js/library/modules/_string-ws.js","webpack:///./src/components/Panel/panel-security.vue?a86f","webpack:///src/components/Panel/panel-security.vue","webpack:///./src/components/Panel/panel-security.vue?1c0d","webpack:///./src/components/Panel/panel-security.vue"],"names":["$export","__webpack_require__","$parseFloat","G","F","parseFloat","$trim","trim","module","exports","Infinity","str","string","String","result","charAt","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LoginModal_vue_vue_type_style_index_0_id_f1f5a078_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LoginModal_vue_vue_type_style_index_0_id_f1f5a078_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","context","INCLUDES","P","includes","searchString","this","indexOf","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","attrs","id","_m","on","submit","onSubmit","reset","onReset","label","label-for","type","required","placeholder","model","value","form","callback","$$v","$set","expression","_v","_s","loginStatus","staticClass","class","disabled","hasClicked","variant","size","_e","staticRenderFns","LoginModalvue_type_script_lang_js_","data","userId","password","show","methods","evt","_this","preventDefault","idRex","test","login","then","response","fetchData","$router","push","name","_this2","$nextTick","_login","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","postData","statusCode","wrap","_context","prev","next","axios","post","getAPI","timeout","console","log","code","toString","abrupt","stop","apply","get","localStorage","setItem","stringify_default","store","commit","components_LoginModalvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","MATCH","KEY","re","e","f","$includes","el","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_panel_security_vue_vue_type_style_index_0_id_2cbab846_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_panel_security_vue_vue_type_style_index_0_id_2cbab846_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","defined","fails","spaces","space","non","ltrim","RegExp","rtrim","exporter","exec","ALIAS","exp","FORCE","fn","TYPE","replace","isObject","cof","it","isRegExp","that","NAME","TypeError","vid","plugin","mapView","center","mapCenter","zoom","amap-manager","amapManager","_l","marker","position","ref","path","polygon","editable","events","draggable","fillOpacity","fillColor","strokeOpacity","strokeColor","zIndex","visible","click","getGeoFence","operationStatus","tabindex","role","aria-labelledby","aria-hidden","for","data-dismiss","aria-label","dist_default","a","AMapManager","panel_securityvue_type_script_lang_js_","components","LoginModal","markers","lng","lat","pName","isOpen","computed","isOnline","$store","getters","getOnline","watch","jquery_default","modal","setMapCenter","obj","parse_float_default","substring","setPolygonPath","point","checkSession","getMapKey","withCredentials","total_record","rs_list","points","getMap","setFitView","message","beforeMount","Panel_panel_securityvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-a430f524.426cfa81.js","sourcesContent":["var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });\n","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginModal.vue?vue&type=style&index=0&id=f1f5a078&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginModal.vue?vue&type=style&index=0&id=f1f5a078&scoped=true&lang=css&\"","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"loginFrame\"}},[_vm._m(0),_c('div',{attrs:{\"id\":\"login\"}},[(_vm.show)?_c('b-form',{on:{\"submit\":_vm.onSubmit,\"reset\":_vm.onReset}},[_c('b-form-group',{attrs:{\"id\":\"userId\",\"label\":\"ID:\",\"label-for\":\"userIdInput\"}},[_c('b-form-input',{attrs:{\"id\":\"userIdInput\",\"type\":\"text\",\"required\":\"\",\"placeholder\":\"输入ID\"},model:{value:(_vm.form.userId),callback:function ($$v) {_vm.$set(_vm.form, \"userId\", $$v)},expression:\"form.userId\"}})],1),_c('b-form-group',{attrs:{\"id\":\"password\",\"label\":\"密码:\",\"label-for\":\"passwordInput\"}},[_c('b-form-input',{attrs:{\"id\":\"passwordInput\",\"type\":\"password\",\"required\":\"\",\"placeholder\":\"输入密码\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('div',{attrs:{\"id\":\"loginStatus\"}},[_c('span',[_vm._v(_vm._s(_vm.loginStatus))])]),_c('b-button',{staticClass:\"sub-btn\",class:{disabled:_vm.hasClicked},attrs:{\"type\":\"submit\",\"variant\":\"primary\",\"size\":\"md\"}},[_vm._v(\"登陆\\n        \")]),_c('b-button',{staticClass:\"sub-btn\",class:{disabled:_vm.hasClicked},attrs:{\"type\":\"reset\",\"variant\":\"danger\",\"size\":\"md\"}},[_vm._v(\"重置\\n        \")])],1):_vm._e()],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"title\"}},[_c('h3',[_vm._v(\"用户登录\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div id=\"loginFrame\">\r\n      <div id=\"title\"><h3>用户登录</h3></div>\r\n      <div id=\"login\">\r\n        <b-form @submit=\"onSubmit\" @reset=\"onReset\" v-if=\"show\">\r\n          <b-form-group id=\"userId\"\r\n                        label=\"ID:\"\r\n                        label-for=\"userIdInput\">\r\n            <b-form-input id=\"userIdInput\"\r\n                          type=\"text\"\r\n                          v-model=\"form.userId\"\r\n                          required\r\n                          placeholder=\"输入ID\">\r\n            </b-form-input>\r\n          </b-form-group>\r\n          <b-form-group id=\"password\"\r\n                        label=\"密码:\"\r\n                        label-for=\"passwordInput\">\r\n            <b-form-input id=\"passwordInput\"\r\n                          type=\"password\"\r\n                          v-model=\"form.password\"\r\n                          required\r\n                          placeholder=\"输入密码\">\r\n            </b-form-input>\r\n          </b-form-group>\r\n          <div id=\"loginStatus\">\r\n            <span>{{loginStatus}}</span>\r\n          </div>\r\n          <b-button type=\"submit\" variant=\"primary\" size=\"md\" class=\"sub-btn\" v-bind:class=\"{disabled:hasClicked}\">登陆\r\n          </b-button>\r\n          <b-button type=\"reset\" variant=\"danger\" size=\"md\" class=\"sub-btn\" v-bind:class=\"{disabled:hasClicked}\">重置\r\n          </b-button>\r\n        </b-form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport vuex from '@/store'\r\nexport default {\r\n  data () {\r\n    return {\r\n      form: {\r\n        userId: '',\r\n        password: ''\r\n      },\r\n      loginStatus: '',\r\n      show: true,\r\n      hasClicked: false\r\n    }\r\n  },\r\n  methods: {\r\n    onSubmit (evt) {\r\n      evt.preventDefault()\r\n      if (this.hasClicked) {\r\n        return\r\n      }\r\n      let idRex = /[0-9]+/\r\n      if (idRex.test(this.form.userId)) {\r\n        this.hasClicked = true\r\n        this.loginStatus = '登陆中...'\r\n        this.login().then(response => {\r\n          if (response === 100) {\r\n            this.loginStatus = '登陆成功'\r\n            this.fetchData()\r\n            this.form.userId = ''\r\n            this.form.password = ''\r\n            this.loginStatus = ''\r\n            this.hasClicked = false\r\n          } else if (response === 500) {\r\n            this.loginStatus = '账户尚未激活'\r\n            this.hasClicked = false\r\n            this.$router.push({ name: 'activate' })\r\n          } else if (response === 210) {\r\n            this.loginStatus = '请求超时，请重试'\r\n            this.hasClicked = false\r\n          } else if (response === -999) {\r\n            this.loginStatus = '服务器开小差了，请重试'\r\n            this.hasClicked = false\r\n          } else {\r\n            this.loginStatus = 'ID或密码不正确'\r\n            this.hasClicked = false\r\n          }\r\n        })\r\n      } else {\r\n        this.loginStatus = 'ID必须为数字'\r\n      }\r\n    },\r\n    onReset (evt) {\r\n      evt.preventDefault()\r\n      if (this.hasClicked) {\r\n        return\r\n      }\r\n      /* Reset our form values */\r\n      this.form.userId = ''\r\n      this.form.password = ''\r\n      this.loginStatus = ''\r\n      /* Trick to reset/clear native browser form validation state */\r\n      this.show = false\r\n      this.$nextTick(() => {\r\n        this.show = true\r\n      })\r\n    },\r\n    async login () {\r\n      let postData = { 'userId': this.form.userId, 'password': this.form.password }\r\n      let statusCode = 200\r\n      await this.axios.post(this.getAPI() + '/login', postData, { timeout: 15000 }).then(response => {\r\n        console.log(response.data)\r\n        statusCode = response.data\r\n      }, response => {\r\n        if (response.code === 'ECONNABORTED' && response.toString().indexOf('timeout') !== -1) {\r\n          statusCode = 210\r\n        } else {\r\n          console.log('post failed')\r\n          console.log(response)\r\n        }\r\n      })\r\n      return statusCode\r\n    },\r\n    fetchData () {\r\n      this.axios.get(this.getAPI() + '/user').then(response => {\r\n        localStorage.setItem('user', JSON.stringify(response.data))\r\n        vuex.commit('setUser')\r\n      }, response => {\r\n        console.log('post failed')\r\n        console.log(response)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#title{\r\n  margin: auto;\r\n  text-align: center;\r\n  padding-top: 30px;\r\n}\r\n#loginFrame {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  width: 320px;\r\n  height: 350px;\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n  /*border-radius: 10px;*/\r\n}\r\n\r\n#login {\r\n  padding: 15px 0;\r\n  width: 280px;\r\n  margin: auto;\r\n}\r\n\r\n#loginStatus {\r\n  padding-bottom: 10px;\r\n  font-size: 13px;\r\n  color: red;\r\n}\r\n\r\n.sub-btn {\r\n  padding: 4px 20px;\r\n  margin-right: 5px;\r\n  border-radius: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginModal.vue?vue&type=template&id=f1f5a078&scoped=true&\"\nimport script from \"./LoginModal.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginModal.vue?vue&type=style&index=0&id=f1f5a078&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f1f5a078\",\n  null\n  \n)\n\nexport default component.exports","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","module.exports = require(\"core-js/library/fn/parse-float\");","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","require('../modules/es6.parse-float');\nmodule.exports = require('../modules/_core').parseFloat;\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-security.vue?vue&type=style&index=0&id=2cbab846&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-security.vue?vue&type=style&index=0&id=2cbab846&scoped=true&lang=css&\"","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._m(1),_c('div',{attrs:{\"id\":\"geo-fence\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"amap-wrapper\"},[_c('el-amap',{attrs:{\"vid\":\"amap-geo-fence\",\"plugin\":_vm.mapView.plugin,\"center\":_vm.mapView.mapCenter,\"zoom\":_vm.mapView.zoom,\"amap-manager\":_vm.amapManager}},[_vm._l((_vm.mapView.markers),function(marker){return _c('el-amap-marker',{attrs:{\"position\":marker}})}),_c('el-amap-polygon',{ref:\"polygon_0\",attrs:{\"path\":_vm.mapView.polygon.path,\"editable\":_vm.mapView.polygon.editable,\"events\":_vm.mapView.polygon.events,\"draggable\":_vm.mapView.polygon.editable,\"fillOpacity\":\"0.3\",\"fillColor\":\"blue\",\"strokeOpacity\":\"0.6\",\"strokeColor\":\"pink\",\"zIndex\":\"50\",\"visible\":_vm.mapView.polygon.visible}})],2)],1)])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\"},[_c('div',{staticClass:\"map-toolbar\"},[_c('button',{staticClass:\"btn btn-info\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.getGeoFence}},[_vm._v(\"刷新围栏\")])])]),_c('div',{staticClass:\"col-4\"},[_c('div',{staticClass:\"status-info\"},[_vm._v(_vm._s(_vm.operationStatus))])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"loginModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered modal-md\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(2),_c('div',{staticClass:\"modal-body\",attrs:{\"id\":\"loginModalBody\"}},[_c('LoginModal')],1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{attrs:{\"id\":\"panel-title\"}},[_c('h4',[_c('strong',[_vm._v(\"安全中心\")])])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"geo-fence\"}},[_c('strong',[_vm._v(\"电子围栏\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"loginModalLabel\"}},[_vm._v(\"会话超时\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div id=\"panel-title\">\r\n        <h4><strong>安全中心</strong></h4>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <label for=\"geo-fence\"><strong>电子围栏</strong></label>\r\n  <div id=\"geo-fence\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n       <div class=\"amap-wrapper\">\r\n         <el-amap\r\n           vid=\"amap-geo-fence\"\r\n           :plugin=\"mapView.plugin\"\r\n           :center=\"mapView.mapCenter\"\r\n           :zoom=\"mapView.zoom\"\r\n           :amap-manager=\"amapManager\"\r\n         >\r\n           <el-amap-marker\r\n             v-for=\"marker in mapView.markers\"\r\n             :position=\"marker\">\r\n           </el-amap-marker>\r\n           <el-amap-polygon :path=\"mapView.polygon.path\" :editable=\"mapView.polygon.editable\" :ref=\"`polygon_0`\"\r\n                            :events=\"mapView.polygon.events\" :draggable=\"mapView.polygon.editable\"\r\n                            fillOpacity=\"0.3\" fillColor=\"blue\"\r\n                            strokeOpacity=\"0.6\" strokeColor=\"pink\"\r\n                            zIndex=\"50\" :visible=\"mapView.polygon.visible\">\r\n           </el-amap-polygon>\r\n         </el-amap>\r\n       </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-4\">\r\n      <div class=\"map-toolbar\">\r\n        <button type=\"button\" class=\"btn btn-info\" @click=\"getGeoFence\">刷新围栏</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-4\">\r\n      <div class=\"status-info\">{{operationStatus}}</div>\r\n    </div>\r\n  </div>\r\n\r\n  <!--login modal-->\r\n  <div class=\"modal fade\" id=\"loginModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\r\n       aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered modal-md\" role=\"document\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"loginModalLabel\">会话超时</h5>\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n        <div id=\"loginModalBody\" class=\"modal-body\">\r\n          <LoginModal/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery'\r\nimport LoginModal from '@/components/LoginModal'\r\nimport VueAMap from 'vue-amap'\r\nlet amapManager = new VueAMap.AMapManager()\r\nexport default {\r\n  name: 'panel-security',\r\n  components: { LoginModal },\r\n  data () {\r\n    return {\r\n      amapManager,\r\n      mapView: {\r\n        zoom: 14,\r\n        markers: [],\r\n        mapCenter: [113.874908, 22.902537],\r\n        lng: 0,\r\n        lat: 0,\r\n        plugin: [\r\n          {\r\n            pName: 'Geolocation',\r\n            events: {\r\n              // init (o) {\r\n              // o 是高德地图定位插件实例\r\n              // auto load current location\r\n              // o.getCurrentPosition((status, result) => {\r\n              //   if (result && result.position) {\r\n              //     console.log(result.position.lng + ' ' + result.position.lat)\r\n              //     self.mapView.lng = result.position.lng\r\n              //     self.mapView.lat = result.position.lat\r\n              //     self.mapView.mapCenter = [self.mapView.lng, self.mapView.lat]\r\n              //     // self.loaded = true\r\n              //     self.$nextTick()\r\n              //   }\r\n              // })\r\n              // }\r\n            }\r\n          },\r\n          {\r\n            pName: 'OverView',\r\n            isOpen: true\r\n          },\r\n          {\r\n            pName: 'PolyEditor'\r\n          }\r\n        ],\r\n        polygon: {\r\n          visible: false,\r\n          editable: false,\r\n          // Initial path Dongguan University of T\r\n          path: [[113.874908, 22.902537],\r\n            [113.879000, 22.902537],\r\n            [113.879000, 22.905000],\r\n            [113.874908, 22.905000]]\r\n        }\r\n      },\r\n      operationStatus: ''\r\n    }\r\n  },\r\n  computed: {\r\n    isOnline () {\r\n      return this.$store.getters.getOnline\r\n    }\r\n  },\r\n  watch: {\r\n    isOnline () {\r\n      if (this.$store.getters.getOnline) {\r\n        $('#loginModal').modal('hide')\r\n        this.getGeoFence()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    setMapCenter (obj) {\r\n      this.mapView.mapCenter = [\r\n        parseFloat(obj.substring(0, obj.indexOf(','))),\r\n        parseFloat(obj.substring(obj.indexOf(',') + 1))\r\n      ]\r\n    },\r\n    setPolygonPath (obj) {\r\n      this.mapView.polygon.path = []\r\n      let point = []\r\n      do {\r\n        point.push(parseFloat(obj.substring(0, obj.indexOf(','))))\r\n        obj = obj.substring(obj.indexOf(',') + 1)\r\n        if (obj.includes(';')) {\r\n          point.push(parseFloat(obj.substring(0, obj.indexOf(';'))))\r\n          obj = obj.substring(obj.indexOf(';') + 1)\r\n        } else {\r\n          point.push(parseFloat(obj))\r\n        }\r\n        this.mapView.polygon.path.push(point)\r\n        point = []\r\n      } while (obj.includes(','))\r\n    },\r\n    getGeoFence () {\r\n      this.checkSession().then(response => {\r\n        if (response) {\r\n          this.operationStatus = '获取围栏中...'\r\n          this.axios.get('https://restapi.amap.com/v4/geofence/meta?key=' + this.getMapKey(),\r\n            { withCredentials: false }).then(response => {\r\n            if (response.data.data.total_record === 0) {\r\n              this.operationStatus = '暂无围栏,请前往安全设置添加'\r\n            } else if (response.data.data.total_record > 0) {\r\n              this.mapView.polygon.visible = true\r\n              this.setPolygonPath(response.data.data.rs_list[0].points)\r\n              this.setMapCenter(response.data.data.rs_list[0].center)\r\n              this.mapView.markers.push([113.874908, 22.902537])\r\n              this.operationStatus = '围栏获取成功'\r\n              amapManager.getMap().setFitView()\r\n            } else {\r\n              console.log('获取失败：' + response.data.data.message)\r\n              console.log(response)\r\n            }\r\n          }, response => {\r\n            this.operationStatus = '请求获取围栏失败'\r\n            console.log('get geofence failed')\r\n            console.log(response)\r\n          })\r\n        } else {\r\n          $('#loginModal').modal('show')\r\n        }\r\n      })\r\n    }\r\n  },\r\n  beforeMount () {\r\n    this.getGeoFence()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .amap-wrapper{\r\n    width: 100%;\r\n    height: 700px;\r\n  }\r\n\r\n  #panel-title {\r\n    padding: 20px 0;\r\n  }\r\n\r\n  .map-toolbar {\r\n    padding: 10px 0;\r\n  }\r\n  .status-info {\r\n    padding: 15px 0;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-security.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-security.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./panel-security.vue?vue&type=template&id=2cbab846&scoped=true&\"\nimport script from \"./panel-security.vue?vue&type=script&lang=js&\"\nexport * from \"./panel-security.vue?vue&type=script&lang=js&\"\nimport style0 from \"./panel-security.vue?vue&type=style&index=0&id=2cbab846&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cbab846\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}